CREATE TABLE [dbo].[Clients] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](25) NOT NULL,
    [Email] [nvarchar](max) NOT NULL,
    [Telephone] [nvarchar](max),
    [NIP] [nvarchar](max),
    [Street] [nvarchar](60),
    [City] [nvarchar](60),
    [Zipcode] [nvarchar](max),
    CONSTRAINT [PK_dbo.Clients] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Products] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](25) NOT NULL,
    [PictureUrl] [nvarchar](max),
    [ClientId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Products] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ClientId] ON [dbo].[Products]([ClientId])
CREATE TABLE [dbo].[Projects] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](60) NOT NULL,
    [Description] [nvarchar](255),
    [StartDate] [datetime] NOT NULL,
    [EndDate] [datetime] NOT NULL,
    [DefaultHourRate] [int] NOT NULL,
    [PlannedPaymentDate] [datetime] NOT NULL,
    [ClientId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Projects] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_ClientId] ON [dbo].[Projects]([ClientId])
CREATE TABLE [dbo].[ProjectManagers] (
    [Id] [int] NOT NULL IDENTITY,
    [PictureUrl] [nvarchar](max),
    [Firstname] [nvarchar](25) NOT NULL,
    [Lastname] [nvarchar](25) NOT NULL,
    [Email] [nvarchar](max) NOT NULL,
    [Telephone] [nvarchar](max) NOT NULL,
    CONSTRAINT [PK_dbo.ProjectManagers] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[WorkUnits] (
    [Id] [int] NOT NULL IDENTITY,
    [StartTime] [datetime] NOT NULL,
    [EndTime] [datetime] NOT NULL,
    [HourRate] [decimal](18, 2) NOT NULL,
    [IsPaid] [bit] NOT NULL,
    [PaymentDate] [datetime] NOT NULL,
    [ProjectId] [int] NOT NULL,
    [LocationId] [int] NOT NULL,
    [WorkerId] [int],
    CONSTRAINT [PK_dbo.WorkUnits] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_LocationId] ON [dbo].[WorkUnits]([LocationId])
CREATE INDEX [IX_ProjectId] ON [dbo].[WorkUnits]([ProjectId])
CREATE INDEX [IX_WorkerId] ON [dbo].[WorkUnits]([WorkerId])
CREATE TABLE [dbo].[Locations] (
    [Id] [int] NOT NULL IDENTITY,
    [Name] [nvarchar](60) NOT NULL,
    [Street] [nvarchar](60) NOT NULL,
    [City] [nvarchar](60) NOT NULL,
    [Zipcode] [nvarchar](max) NOT NULL,
    [ContactName] [nvarchar](25) NOT NULL,
    [ContactSurname] [nvarchar](25),
    [Telephone] [nvarchar](max) NOT NULL,
    [Email] [nvarchar](max),
    [TelephoneAlt] [nvarchar](max),
    CONSTRAINT [PK_dbo.Locations] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Workers] (
    [Id] [int] NOT NULL IDENTITY,
    [Firstname] [nvarchar](25) NOT NULL,
    [Lastname] [nvarchar](25) NOT NULL,
    [Gender] [int] NOT NULL,
    [PictureUrl] [nvarchar](max),
    [Telephone] [nvarchar](max) NOT NULL,
    [Email] [nvarchar](max) NOT NULL,
    [PlaceWhereFound] [nvarchar](60),
    [Street] [nvarchar](60) NOT NULL,
    [City] [nvarchar](60) NOT NULL,
    [Zipcode] [nvarchar](max) NOT NULL,
    CONSTRAINT [PK_dbo.Workers] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[UserProfile] (
    [UserId] [int] NOT NULL IDENTITY,
    [UserName] [nvarchar](max),
    CONSTRAINT [PK_dbo.UserProfile] PRIMARY KEY ([UserId])
)
CREATE TABLE [dbo].[ProjectManagerProjects] (
    [ProjectManager_Id] [int] NOT NULL,
    [Project_Id] [int] NOT NULL,
    CONSTRAINT [PK_dbo.ProjectManagerProjects] PRIMARY KEY ([ProjectManager_Id], [Project_Id])
)
CREATE INDEX [IX_ProjectManager_Id] ON [dbo].[ProjectManagerProjects]([ProjectManager_Id])
CREATE INDEX [IX_Project_Id] ON [dbo].[ProjectManagerProjects]([Project_Id])
ALTER TABLE [dbo].[Products] ADD CONSTRAINT [FK_dbo.Products_dbo.Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [dbo].[Clients] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Projects] ADD CONSTRAINT [FK_dbo.Projects_dbo.Clients_ClientId] FOREIGN KEY ([ClientId]) REFERENCES [dbo].[Clients] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[WorkUnits] ADD CONSTRAINT [FK_dbo.WorkUnits_dbo.Locations_LocationId] FOREIGN KEY ([LocationId]) REFERENCES [dbo].[Locations] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[WorkUnits] ADD CONSTRAINT [FK_dbo.WorkUnits_dbo.Projects_ProjectId] FOREIGN KEY ([ProjectId]) REFERENCES [dbo].[Projects] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[WorkUnits] ADD CONSTRAINT [FK_dbo.WorkUnits_dbo.Workers_WorkerId] FOREIGN KEY ([WorkerId]) REFERENCES [dbo].[Workers] ([Id])
ALTER TABLE [dbo].[ProjectManagerProjects] ADD CONSTRAINT [FK_dbo.ProjectManagerProjects_dbo.ProjectManagers_ProjectManager_Id] FOREIGN KEY ([ProjectManager_Id]) REFERENCES [dbo].[ProjectManagers] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[ProjectManagerProjects] ADD CONSTRAINT [FK_dbo.ProjectManagerProjects_dbo.Projects_Project_Id] FOREIGN KEY ([Project_Id]) REFERENCES [dbo].[Projects] ([Id]) ON DELETE CASCADE
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201401182040519_Initial', N'Moccacito.Migrations.Configuration',  0x1F8B0800000000000400ED5DCD6EE4B811BE07C83B083A2501B6DBE3C50693417B17B3F63831763D36A63DBB402E035AA2DBCAEAA723B10DFBD972C823E515424AA2C47F91FA69757BF6326893D4C762B1AA58649135FFFBCF7F573F3C27B1F704F322CAD233FFCDE2C4F7601A6461946ECEFC1D7AF8E6ADFFC3F77FFCC3EA43983C7BBFD076DF9276F8CBB438F31F11DABE5B2E8BE01126A0582451906745F6801641962C41982D4F4F4EFEB67CF3660931848FB13C6FF56997A22881E51FF8CFF32C0DE016ED407C9D85302EEA725CB32E51BD8F2081C51604F0CCBFCE82000411CA16555BDF7B1F4700D3B186F183EF8134CD104098CA779F0BB84679966ED65B5C00E2BB972DC4ED1E405CC09AFA776D73DB819C9C92812CDB0F7B31C26F868807F9013303BD10F2CA819EF9E7710453C4B6C1AD7E822F5C012EBACDB32DCCD1CB27F8507F7915FADE92FF6E297ED87CC67C433AC7BF52F4EDA9EF7DDCC531B88F61C32B86A96B94E5F0EF3085394030BC0508C13C2518B01C84D4BBD017F997F68627074B99EF5D83E79F61BA418F67FEE977BE77193DC39016D4047C4E232C93F81B94EFA0824073A71F1210C5865EF1CF29BABD8331DC3E66A969C0B65D7770F5EA76F23E303084C8D0CD5F4F46E8E5BC94A169FBF867B4258DC7E7D847F0146D4A35117AC47F86BB00615BF509C66583E231DA56266B51577EA995DEBBCCB3E45316B79FD5355FEE40BE2967205356AFB35D1EB811F52F68208A54AA89626A5444B1D52AA256CBD6E019CD603DC0DFEDE04806E9360AD02E879FF3318C61871E97D3DFCD515B61A57238447FA82C6AF4874A725F512562FF158AAAA5497614D50B580479B4ADFC2B839AD8E949D7CA0672748179437B22BFEFA2A487A39186A3E05CC007B08BD13FB0C07E62F02C9548D4FA18CB0299F797044FF828F4ED57BBED16228576ABD629C7D5F11AA46083773D26DAEA365FDA055522526CA25B36A576AE8BFAAF59FE1B167ECDAA4E6B293E4BA9582791283518BAB633037E8D76738FABED659417289DC3A5F819CCD4F12BD8D3F53697369E7B1FA3A431A15AE3D54BF1A919798D2A5F7A12D58A3ADC9318054774212E601025002BCE6D8E7FD5877E6F7D6F1D0082E9EE5D5C15B7206A58FC63860507A4EE3ECA88CE492DA6CEDE8968D9B2A09489A13844DE612EA1D8EA3A2543A9EBB4F20BB3ECB76A2ED74A6BBAA249CF6384E1FE86687DB40E898B2F845D0B1D61D8A229D926D6291D21AEC12047A899E057680F67D93A8E7550E9BA271AE5E4D2B1D3F18E325D479BA50804689663ACBAEFF52E1FC7F33C1C8F6F221FD77280EF6393D68C7D266EDEA93AAF6CE2EA6158FC7ABBADAF739FFA156E1E31B342E219D4DD1281A345877BA4FE0A0C91FBC965007F7D8439BCCC7669387C75FDDD71D8BFE330E0A8D2DA43576D1D942E7C2FD3FFB98039A6FD218A611FFB4F3EEFB306D0EFF6B50E90FE3AFCB93E864CCFE65DC23099DADFABE232069B8241C6C5F10BA684E5033F906B98DCC3BC06BA06789ABC5F40BCC37FBC9106CDB5BD8409DBFA54A6BCA2912D7C5F145910951CE7C3D45F94B7763EA4A1678E46B66B108D777BD7BB1845DB380A30DFCEFCBF4883D082365BD51694064E78CC37BE28B837E9055E6010F4DE07D575A87350042094151A7325E44BB0AC631B9D923B56D8372F500EA214C98A11A541B405B19172E12B4B878A50D5E08B3517704B642B45C679B0E9B80D7BC9DD37BD08CCEAE2CD6AC90854A79CB1A130834828E3629C9C55A7314E72A6BCF5711472A6A07C3F72A69887E391332982D0211BFA7082247934EAE72E80FA40AAAB783B3044B119D59169DA99B614B687BA136A8B912805DB9AC04CE7ACF4D2433D67F6A08B7A0ED874CE860266D148E91C5D37D3FA43F53EF36CC0B557BBF957001DF17B903BDD7CD874CDC4B166133A6E0766120EF5768C173AD9E09F2C16B2876E00DEBFD5D28D6D4FB2A31ABD4DD76DD0710FA253EDEFCA53F9286DF761E475062984CFB2BD221FAC21E2FC1DBCC56F778A82532989080F70DBDCAF96109A3D5537447D4F42055119363B88F6CA980EA9717F3A0099C30F09AA95FB0E10BA78A9405A3FC48212F590A86277003067282A14F688458462A44E9AF1E65A20D3487D2D585483CE7D79330256BC246DEADC8933308D988BCB1C3F42BBD173972295A3D7EE156D768BFCE86BCD308F5EB53F9C72F4F20D272D1BCC5B19A7CD8CCC9856DFBBF9A3DDBE58F0BB07A754513499495DDB1BDB0D0E3306C6E8189862D89730580CED8319225F4891D96176B6EDDC6D1BF2ED1CEC6904433E5D57F341EFFFD97980021FBAB444EBF00D14077A06DDF8284DDD6A59BD30AD0B564BCD53D4D535D86EA374C33C4DAD4BBC75F52EF5FC9BB5FB4BD0A4C258061C77458FAAE9096539361F422DB91011C2328A7B0110B807E4D8FC3C4CA466361E19ED8A77CCE419A3EB376D4F7E53BF8F7F9FBB502F412D032FF198C8E5BF7278505A31E40F3DF22C18C4205704CDCFB37897A47AFF5BFF7515FA60BFAF4AEC11EA28290B5117D96330415E1687297618117915CA0D8814D87F4FE3A12C042DB347A9C29B2CC6B9221865426862952C485328E3AC968264495B20497EA573075E1DAC94A5F1120769CBADEACD6309D3A52EDA2F0F555FD8BB132C0E5BEE2067CDA139276BDAA3F439E544E784BAC989CA39B19313F597872A27DC5B401688AB70B16BCD7B3FDEB435C50E369FBEF8E3AC3E2D7419A3F0E28F1FA750E9A0638AC77F9CAE29EA5FAFCE355BB531544FF974AD44B3D4402DC0348A38AEB9656E0DB2604CB13D567B0F90856A4B0FDF059B49AC4D7B330781563FC92A71BA4459FFE93442CCBCB0926C7755EC64BB65A4A6D01E476DB4FB586BFA988AE34F5DE6A0E85A63DFCFCA3381280E4D1F9FD263B1A1544ED90D21563D5A1BE660B1F4C18FD914B53D0F1BA4A8EAB742254E97A2EA3F3D54B7EF58B79F5A4AD827331C416C85335EF30C4601D9D4CD730031EA6A5CBE4E519254D61C8CAAD373CEC12B722FD752F7E1344A7E984E20BD4ACCE2D0B2B9DCE543532BE96985B029E42B5FBFD19EC9587061F1411643FB48A184EA321BC6AF753CA60F145816AB1F3B74A1C86B625BBAFFB9E2C348A6830426F66C7D5EC07C633E1730841FD50EBA2E662D33D06A291050D597891862FAD3A9BDD8E442A7238162B45096042968283669E4B0091E0A41C2551DB0EB4E6A2B45F0AA26244D47F61485247AB77E29104C16A4C162FDEF985EFDA00D3053A30758A0BBEC37989EF9A727276F85CCB83DB2D42E8B228C0F33556D4406DFF9E2C9F1555C6571AA0ED22790078F20979EA30E793B4941FF9480E73F0F4F3EA485734C1A3B08877F36A9641B79C3E806CA3E8A1C095278F2E830E6C34F587A34DA20BF971E247B6222C2920F46920E3FA3E73C73C9EB53DF1C9D1A31F9CEDDA608293943FC1B8D9092B3378E262567B7C02974409B90B33775D3EBC16C891A27518791CD909442632C732966C8386AA7648814CE97357012F99312050EB16FA3E088862D9C3651E07DD4C36E8E683099E0557F432EA708EC83222608143006B8A3F3A5963B1A1FC679F3E29CD2652C4CDBED4BDFF46D632D2DEAEC6C16E8BD72200D6383DD32D83789DA143BCCB9D2904DA2D047E736F179C37AF9FEE33A9EB3E8C390DC5D239DE57C1566FBB812544D6221C49C54131DDA75455DECF8681330D17EA568DE3D038A1E0798268690A1A708BD9364D1B0C67E130B49AF78FBA5E5EA956140FB3CCA6609F77A24BE3AA2144447202DD52BD23EC9B50E5F5A340F4C0E555AACE2DFDA37D90E79AAA695266121D29335ADA499CE7D279538F3F587DE2BEF9C82A8BAE0D0CF8C7C4DA2771432379FB0F5C84A376712BA3661CDFE73CEED33D5D72BCB2837BF6D9A4370F668819CE486095BCC26360E39E1C64901B7EFC9D75EBE9F77EE0F20A79B9C68449C37556237435EB7EA9AE3991FDE677886AB63065DA22811BCD9964BE84D8D0AFE5693CC4B97CECD94104E83AFCED2A3C16FF618BA6E9A0686DE7439A8B429E58C19E5541DE9D3EE885DB47E85D4455BA5EA429B344A938ECE908D4E37021B1671B9E8A41EB85A5537A654766611E81438B15DB740688571EAA47ABCE6B3E97C64EBA5387DE32FC52B1338CE9A35AFF7F0D809E6B2718C363C6DE63AEBEC789A7703869313ED1B061B76A8A5DFF020623A56D17463F6AC523F5DE837E707C29C0993062A73041AD920AE577CD281E1831D392160DFD9DEC73047CFF7A748EFB797413A64F3931FE0609F7897922B63D55F17B088362DC40A63A630E0BCE1A6CD55FA9051B75CA0883611426AD7108110BBCAEF73143D8000E1EA001645F9DFEAD4FFE7CC87E41E8657E9CD0E6D77080F1926F731F7D29138F7A6FECB94853CCDAB9BF2527631C610309911B9657793FEB88BE2B0A1FB52110CD440905D431D13267389486C78F3D2207D949EBFEA806AF6359B9D3B986C630C56DCA46BF004F5B475F390E7D8EA22029B1C24458DD17E8FFFC4E21726CFDFFF1FCDE315DF3D8D0000 , N'6.0.2-21211')

